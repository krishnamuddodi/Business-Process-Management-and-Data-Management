-- This block ensures tables are dropped if they already exist in the database.

WHENEVER SQLERROR CONTINUE

DROP TABLE JOB CASCADE CONSTRAINTS;
DROP TABLE EMP CASCADE CONSTRAINTS;
DROP TABLE PURCHASE_ORDER CASCADE CONSTRAINTS;
DROP TABLE INVOICE_APPROVAL CASCADE CONSTRAINTS;
DROP TABLE INVOICE CASCADE CONSTRAINTS;
DROP TABLE DEPT CASCADE CONSTRAINTS;
DROP TABLE SUPPLIER CASCADE CONSTRAINTS;

WHENEVER SQLERROR EXIT 1

----------------------------------------------------------- TABLE CREATION -----------------------------------------------------------------

--JOB table creation statement

CREATE TABLE JOB
(
JOB_ID VARCHAR(15),
JOB_TITLE VARCHAR(30) NOT NULL,
MIN_SALARY NUMBER(6,0),
MAX_SALARY NUMBER(8,0),
CONSTRAINT PKJOB_1
    PRIMARY KEY(JOB_ID),
CONSTRAINT UKJOB_1
    UNIQUE(JOB_TITLE),
CHECK (MIN_SALARY > 0 AND MAX_SALARY > 0)
);

--Description for each attributes

COMMENT ON COLUMN JOB.JOB_ID IS 'Primary Key Of Job Table';
COMMENT ON COLUMN JOB.JOB_TITLE IS 'Title of the job';
COMMENT ON COLUMN JOB.MIN_SALARY IS 'Minimum Salary of the job position.Constraint that minimum cannot be zero';
COMMENT ON COLUMN JOB.MAX_SALARY IS 'Maximum Salary of the job position.Constraint that maximum cannot be zero';

--JOB table insert statements
INSERT INTO JOB VALUES('AD_PD','Program Director',65000,95000);
INSERT INTO JOB VALUES('AD_APM','Assistant Program Manager',3000,85000);
INSERT INTO JOB VALUES('ENGG_ASST','Engineering Assistant',10000,75000);
INSERT INTO JOB VALUES('IT_MAN','IT Manager',15000,99000);
INSERT INTO JOB VALUES('AD_PRES','President',50000,100000);
INSERT INTO JOB VALUES('AC_ACCOUNT','Public Accountant',5000,13000);
INSERT INTO JOB VALUES('AD_VP','Administration Vice President',25000,80000);
INSERT INTO JOB VALUES('AD_ASST','Administration Assistant',4000,35000);
INSERT INTO JOB VALUES('FC_MGR','Finance Manager',18000,40000);
INSERT INTO JOB VALUES('MK_MAN','Marketing Manager',15000,45000);
INSERT INTO JOB VALUES('SC_MAN','Supply Chain Manager',8000,60000);
INSERT INTO JOB VALUES('SC_ANA','Supply Chain Analyst',5000,40000);
INSERT INTO JOB VALUES('ENGG_MAN','Engineering Manager',20000,80000);
INSERT INTO JOB VALUES('IT_PROG','IT Programmer',8000,95000);
INSERT INTO JOB VALUES('MK_REP','Marketing Representative',5000,10000);
--COMMIT;

----------------------------------------------------------------------------------------------------------------

--EMP table creation statement

CREATE TABLE EMP
(
EMPLOYEE_ID VARCHAR(8),
FIRST_NAME VARCHAR(20),
LAST_NAME VARCHAR(20) NOT NULL,
EMAIL VARCHAR(10),
PHONE_NUMBER VARCHAR(12) NOT NULL,
HIRE_DATE DATE NOT NULL,
JOB_ID VARCHAR(15) NOT NULL,
SALARY NUMBER(10),
MANAGER_ID VARCHAR(8),
DEPARTMENT_ID VARCHAR(6),
CONSTRAINT PKEMP_1
    PRIMARY KEY(EMPLOYEE_ID),
    CONSTRAINT FKEMP_1
    FOREIGN KEY(JOB_ID) REFERENCES JOB(JOB_ID)
    ON DELETE CASCADE,
CHECK (SALARY > 0)
);

----Adding constraints using Alter Table Statements

ALTER TABLE EMP
ADD CONSTRAINT FKEMP_2 
    FOREIGN KEY(MANAGER_ID) REFERENCES EMP(EMPLOYEE_ID);

--Description for each attributes

COMMENT ON COLUMN EMP.EMPLOYEE_ID IS 'Primary Key Of EMPLOYEE Table';
COMMENT ON COLUMN EMP.FIRST_NAME IS 'First name of the employee. A not null column.';
COMMENT ON COLUMN EMP.LAST_NAME IS 'Last name of the employee. A not null column.';
COMMENT ON COLUMN EMP.EMAIL IS 'Email id of the employee.';
COMMENT ON COLUMN EMP.PHONE_NUMBER IS 'Phone number of the employee; includes country code and area code.';
COMMENT ON COLUMN EMP.HIRE_DATE IS 'Date when the employee started on this job. A not null column.';
COMMENT ON COLUMN EMP.JOB_ID IS 'Current job of the employee; foreign key to job_id column of the jobs table. A not null column.';
COMMENT ON COLUMN EMP.SALARY IS 'Monthly salary of the employee. Must be greater than zero (enforced by constraint emp_salary_min)';
COMMENT ON COLUMN EMP.MANAGER_ID IS 'Manager id of the employee; has same domain as manager_id in departments table. Foreign key to employee_id column of employees table. (useful for reflexive joins and CONNECT BY query)';
COMMENT ON COLUMN EMP.DEPARTMENT_ID IS 'Department id where employee works; foreign key to department_id column of the departments table.';

--EMP table insert statements

INSERT INTO EMP VALUES('SIK10001','JAMES','SMITH','JSMITH','860.997.4040',TO_DATE('27-10-1990','DD-MM-RR'),'AD_PRES',100000,'','DEP005');  
INSERT INTO EMP VALUES('SIK10002','MICHAEL','SMITH','MSMITH','860.997.1111',TO_DATE('22-10-1999','DD-MM-RR'),'AD_VP',78000,'SIK10001','DEP010'); 
INSERT INTO EMP VALUES('SIK10003','JOHN','DOWSON','JDOWSON','860.397.1112',TO_DATE('26-05-1997','DD-MM-RR'),'AD_ASST',30000,'SIK10002','DEP010');
INSERT INTO EMP VALUES('SIK10004','JOSEPH','JOHNSON','MSMITH','854.997.1113',TO_DATE('23-10-1999','DD-MM-RR'),'AD_ASST',25000,'SIK10002','DEP010');
INSERT INTO EMP VALUES('SIK10005','JAMES','ANDERSON','JANDERSON','860.997.1114',TO_DATE('23-10-1999','DD-MM-RR'),'AD_ASST',30000,'SIK10002','DEP010');
INSERT INTO EMP VALUES('SIK10006','MIKE','WILLIAMS','MWILLIAMS','860.997.1115',TO_DATE('23-10-1999','DD-MM-RR'),'FC_MGR',25000,'SIK10002','DEP025');
INSERT INTO EMP VALUES('SIK10007','THOMAS','MILLER','TMILLER','854.997.1116',TO_DATE('23-10-1999','DD-MM-RR'),'FC_MGR',25000,'SIK10002','DEP010');
INSERT INTO EMP VALUES('SIK10008','JANE','DAVIS','JDAVIS','860.997.1117',TO_DATE('27-8-2003','DD-MM-RR'),'FC_MGR',20000,'SIK10002','DEP010');
INSERT INTO EMP VALUES('SIK10009','DORA','MOORE','DMOORE','856.997.1118',TO_DATE('27-8-2003','DD-MM-RR'),'AC_ACCOUNT',6000,'SIK10006','DEP010');
INSERT INTO EMP VALUES('SIK10010','MICHELL','MARTIN','MMARTIN','878.997.1119',TO_DATE('25-6-2003','DD-MM-RR'),'AC_ACCOUNT',6000,'SIK10007','DEP010');
INSERT INTO EMP VALUES('SIK10011','JENIFFER','THOMPSON','JTHOMPSON','867.997.1120',TO_DATE('12-6-2003','DD-MM-RR'),'AC_ACCOUNT',6000,'SIK10008','DEP010');
INSERT INTO EMP VALUES('SIK10012','JOSHUA','SCOTT','JSCOTT','860.997.1121',TO_DATE('12-6-2005','DD-MM-RR'),'SC_MAN',28000,'SIK10002','DEP048');
INSERT INTO EMP VALUES('SIK10013','BENJAMIN','KING','BKING','860.997.1122',TO_DATE('24-8-2004','DD-MM-RR'),'SC_ANA',24000,'SIK10012','DEP048');
INSERT INTO EMP VALUES('SIK10014','LINCOLN','HALL','LHALL','860.997.1123',TO_DATE('12-6-2008','DD-MM-RR'),'SC_ANA',22000,'SIK10012','DEP048');
INSERT INTO EMP VALUES('SIK10015','DAWN','COLLINS','DCOLLINS','860.997.1124',TO_DATE('15-6-2010','DD-MM-RR'),'SC_ANA',20000,'SIK10012','DEP048');
INSERT INTO EMP VALUES('SIK10016','CHELSEA','PARKER','CPARKER','860.997.1125',TO_DATE('15-6-2010','DD-MM-RR'),'SC_ANA',20000,'SIK10012','DEP048');
INSERT INTO EMP VALUES('SIK10017','ANNIE','EVANS','AEVANS','866.997.1126',TO_DATE('15-6-2004','DD-MM-RR'),'ENGG_MAN',25000,'SIK10002','DEP020');
INSERT INTO EMP VALUES('SIK10018','SARAH','PHILIPS','SPHILIPS','860.997.1127',TO_DATE('15-6-2004','DD-MM-RR'),'ENGG_ASST',12000,'SIK10017','DEP020');
INSERT INTO EMP VALUES('SIK10019','KRISTI','COOPER','KCOOPER','823.997.1128',TO_DATE('24-7-2004','DD-MM-RR'),'IT_MAN',15000,'SIK10002','DEP016');
INSERT INTO EMP VALUES('SIK10020','ANN','PETERSON','APETERSON','856.987.1129',TO_DATE('24-7-2004','DD-MM-RR'),'IT_PROG',10000,'SIK10019','DEP048');
INSERT INTO EMP VALUES('SIK10021','JOANN','COX','JCOX','820.997.1130',TO_DATE('24-7-2004','DD-MM-RR'),'MK_MAN',25000,'SIK10002','DEP095');
INSERT INTO EMP VALUES('SIK10022','SAM','WINCHESTER','SCHESTER','860.997.1131',TO_DATE('24-7-2004','DD-MM-RR'),'MK_REP',5000,'SIK10021','DEP095');
INSERT INTO EMP VALUES('SIK10023','MILES','BENNET','MBENNET','860.997.1132',TO_DATE('14-7-2005','DD-MM-RR'),'MK_REP',8000,'SIK10021','DEP095');
INSERT INTO EMP VALUES('SIK10024','ROBERT','WARD','RWARD','867.997.1133',TO_DATE('14-7-2005','DD-MM-RR'),'MK_REP',8000,'SIK10021','DEP095');
INSERT INTO EMP VALUES('SIK10025','ERIC','BROOKS','EBROOKS','860.997.1134',TO_DATE('14-7-2005','DD-MM-RR'),'MK_REP',8000,'SIK10021','DEP095');
INSERT INTO EMP VALUES('SIK10026','CHRIS','HARRIS','CHARRIS','858.895.4562',TO_DATE('14-7-2005','DD-MM-RR'),'AD_PD',80000,'SIK10002','DEP010');
INSERT INTO EMP VALUES('SIK10027','ANDREW','ROBINSON','AROB','860.998.8287',TO_DATE('14-7-2005','DD-MM-RR'),'AD_APM',70000,'SIK10026','DEP010');
COMMIT;

------------------------------------------------------------------------------------------------------------------------

--DEPT table creation statement

CREATE TABLE DEPT
(
DEPARTMENT_ID VARCHAR(6),
DEPARTMENT_NAME VARCHAR(20) NOT NULL,
MANAGER_ID VARCHAR(8),
CONSTRAINT PKDEPT_1
    PRIMARY KEY(DEPARTMENT_ID),
CONSTRAINT FKDEPT_1
    FOREIGN KEY(MANAGER_ID) REFERENCES EMP(EMPLOYEE_ID)
    ON DELETE CASCADE
);

--Description for each attributes

COMMENT ON COLUMN DEPT.DEPARTMENT_ID IS 'Primary key column of departments table.';
COMMENT ON COLUMN DEPT.DEPARTMENT_NAME IS 'A not null column that shows name of a department.';
COMMENT ON COLUMN DEPT.MANAGER_ID IS 'Manager_id of a department. Foreign key to employee_id column of employees table. The manager_id column of the employee table references this column.';

--DEPT table insert statements

INSERT INTO DEPT VALUES('DEP038','Prog Management','SIK10001');
INSERT INTO DEPT VALUES('DEP095','Marketing','SIK10021');
INSERT INTO DEPT VALUES('DEP016','IT','SIK10019');
INSERT INTO DEPT VALUES('DEP010','Administration','SIK10002');
INSERT INTO DEPT VALUES('DEP025','Finance','SIK10006');
INSERT INTO DEPT VALUES('DEP020','Supply Chain','SIK10012');
INSERT INTO DEPT VALUES('DEP048','Engineering','SIK10017');
INSERT INTO DEPT VALUES('DEP005','Executive','');
COMMIT;

----Adding constraints using Alter Table Statements

ALTER TABLE EMP
ADD CONSTRAINT FKEMP_3
    FOREIGN KEY(DEPARTMENT_ID) REFERENCES DEPT(DEPARTMENT_ID)
    ON DELETE CASCADE;

------------------------------------------------------------------------------------------------------------------------------------------

--SUPPLIER table creation statement

CREATE TABLE SUPPLIER
(
SUPPLIER_ID VARCHAR(6),
SUPPLIER_NAME VARCHAR(30) NOT NULL,
RECEIVE_PAYMEMT VARCHAR(1),
CONSTRAINT PKSP_1
    PRIMARY KEY(SUPPLIER_ID)
);

--Description for each attributes

COMMENT ON COLUMN SUPPLIER.SUPPLIER_ID IS 'Supplier id is the primary key of the table';
COMMENT ON COLUMN SUPPLIER.SUPPLIER_NAME IS 'Name of the supplier.';
COMMENT ON COLUMN SUPPLIER.RECEIVE_PAYMEMT IS 'Indicates whether the payment is received or not.';

--SUPPLIER table insert statements

INSERT INTO SUPPLIER VALUES('SUP001','GOODRICH CORPORATION','Y');
INSERT INTO SUPPLIER VALUES('SUP002','AURORA FLIGHT SCIENCES','Y');
INSERT INTO SUPPLIER VALUES('SUP003','AEROSPACE FILTRATION','Y');
INSERT INTO SUPPLIER VALUES('SUP004','AKROFIRE, INC.N','N');
INSERT INTO SUPPLIER VALUES('SUP005','BAE SYSTEMS LIMITED','N');
INSERT INTO SUPPLIER VALUES('SUP006','BMT AEROSPACE U.S.A.','Y');
INSERT INTO SUPPLIER VALUES('SUP007','CLAVERHAM LIMITED','N');
INSERT INTO SUPPLIER VALUES('SUP008','DRS TRAINING AND CONTROL','Y');
INSERT INTO SUPPLIER VALUES('SUP009','EATON AEROSPACE','Y');
INSERT INTO SUPPLIER VALUES('SUP010','EXELIS AEROSTRUCTURES','Y');
INSERT INTO SUPPLIER VALUES('SUP011','GE AVIATION','Y');
INSERT INTO SUPPLIER VALUES('SUP012','HAMILTON SUNDSTRAND','Y');
INSERT INTO SUPPLIER VALUES('SUP013','KIDDE AEROSPACE','Y');
INSERT INTO SUPPLIER VALUES('SUP014','SAFRAN POWER USA LLC','Y');
INSERT INTO SUPPLIER VALUES ('SUP015','SPIRIT AEROSYSTEMS','Y');
INSERT INTO SUPPLIER VALUES('SUP016','HARRIS CORPORATION','N');
INSERT INTO SUPPLIER VALUES('SUP017','DRS TRAINING AND CONTROL','Y');
INSERT INTO SUPPLIER VALUES('SUP018','ROSEMOUNT AEROSPACE INC.','Y');
INSERT INTO SUPPLIER VALUES('SUP019','EAST/WEST INDUSTRIES INC.','N');
INSERT INTO SUPPLIER VALUES('SUP020','EDO Corporation / ITT','Y');
COMMIT;

-------------------------------------------------------------------------------------------------------------------

--INVOICE table creation statement

CREATE TABLE INVOICE
(
INVOICE_ID VARCHAR(6),
IN_DESC VARCHAR(50) NOT NULL,
RECEIVED_DATE DATE,
PAID_DATE DATE NOT NULL,
AMOUNT NUMBER(8,0),
SUPPLIER_ID VARCHAR(6),
CONSTRAINT PKIN_1
    PRIMARY KEY(INVOICE_ID),
CONSTRAINT FKIN_1
    FOREIGN KEY(SUPPLIER_ID) REFERENCES SUPPLIER(SUPPLIER_ID)
    ON DELETE CASCADE,
CHECK (AMOUNT > 0)
);

--Description for each attributes

COMMENT ON COLUMN INVOICE.INVOICE_ID IS 'Invoice number of a particular invoice.Primary key of the table';
COMMENT ON COLUMN INVOICE.IN_DESC IS 'Description of the invoice.';
COMMENT ON COLUMN INVOICE.RECEIVED_DATE IS 'Date the invoice is received';
COMMENT ON COLUMN INVOICE.PAID_DATE IS 'Date the invoice is paid.';
COMMENT ON COLUMN INVOICE.AMOUNT IS 'Total Amount paid.';
COMMENT ON COLUMN INVOICE.SUPPLIER_ID IS 'Supplier id referenced from supplier table.';

--INVOICE table insert statements

INSERT INTO INVOICE VALUES('IV9001','First Article Inspect 100% Complete',TO_DATE('6/8/2013','MM/DD/RR'),TO_DATE('6/8/2013','MM/DD/RR'),188343,'SUP001');
INSERT INTO INVOICE VALUES('IV9002','IMS Update (SDRL PM29) #13',TO_DATE('6/8/2013','MM/DD/RR'),TO_DATE('6/8/2013','MM/DD/RR'),2568 ,'SUP007');
INSERT INTO INVOICE VALUES('IV9003','Long Lead Forging PO''s Issued',TO_DATE('6/8/2013','MM/DD/RR'),TO_DATE('6/8/2013','MM/DD/RR'),50000,'SUP002');
INSERT INTO INVOICE VALUES('IV9004','Long Lead Machined Parts PO''s Issued',TO_DATE('8/23/2013','MM/DD/RR'),TO_DATE('8/23/2013','MM/DD/RR'),18843,'SUP008');
INSERT INTO INVOICE VALUES('IV9005','IMS Update (SDRL PM29) #17',TO_DATE('9/12/2013','MM/DD/RR'),TO_DATE('9/12/2013','MM/DD/RR'),26513,'SUP018');
INSERT INTO INVOICE VALUES('IV9006','IMS Update (SDRL PM29) #14',TO_DATE('5/13/2014','MM/DD/RR'),TO_DATE('5/13/2014','MM/DD/RR'),45896,'SUP009');
INSERT INTO INVOICE VALUES('IV9007','50% Forgings Received',TO_DATE('9/4/2014','MM/DD/RR'),TO_DATE('9/4/2014','MM/DD/RR'),154863,'SUP010');
INSERT INTO INVOICE VALUES('IV9008','Formed Core Received',TO_DATE('9/9/2014','MM/DD/RR'),TO_DATE('9/9/2014','MM/DD/RR'),52224,'SUP003');
INSERT INTO INVOICE VALUES('IV9009','50% Fastener Orders Received',TO_DATE('2/19/2015','MM/DD/RR'),TO_DATE('2/19/2015','MM/DD/RR'),68000,'SUP011');
INSERT INTO INVOICE VALUES('IV9010','75% Fastener Orders Received',TO_DATE('6/30/2015','MM/DD/RR'),TO_DATE('6/30/2015','MM/DD/RR'),35000,'SUP001');
INSERT INTO INVOICE VALUES('IV9011','Sponson foam trim fuel lines',TO_DATE('6/8/2013','MM/DD/RR'),TO_DATE('6/8/2013','MM/DD/RR'),85463,'SUP001');
INSERT INTO INVOICE VALUES('IV9012','LCA/ENOVIA REPLICATION',TO_DATE('9/4/2014','MM/DD/RR'),TO_DATE('9/4/2014','MM/DD/RR'),85441,'SUP012');
INSERT INTO INVOICE VALUES('IV9013','NRE – Main Engine 2 Exhaust Ducts',TO_DATE('11/19/2015','MM/DD/RR'),TO_DATE('11/19/2015','MM/DD/RR'),85743,'SUP004');
INSERT INTO INVOICE VALUES('IV9014','Submission of CM01 - Configuration Manag',TO_DATE('10/20/2015','MM/DD/RR'),TO_DATE('10/20/2015','MM/DD/RR'),12485,'SUP020');
INSERT INTO INVOICE VALUES('IV9015','LONG LEAD MATERIAL ORDER PLACEMENT - 90%',TO_DATE('12/10/2014','MM/DD/RR'),TO_DATE('12/10/2014','MM/DD/RR'),65842,'SUP001');
INSERT INTO INVOICE VALUES('IV9016','PO''s issued 25% of parts',TO_DATE('6/8/2013','MM/DD/RR'),TO_DATE('6/8/2013','MM/DD/RR'),25369,'SUP005');
INSERT INTO INVOICE VALUES('IV9017','06207-01007-041 - Non Recurring',TO_DATE('6/8/2013','MM/DD/RR'),TO_DATE('6/8/2013','MM/DD/RR'),15487,'SUP013');
INSERT INTO INVOICE VALUES('IV9018','06207-01207-041 - Non Recurring',TO_DATE('6/8/2013','MM/DD/RR'),TO_DATE('6/8/2013','MM/DD/RR'),89547,'SUP001');
INSERT INTO INVOICE VALUES('IV9019','DCMA Acceptance',TO_DATE('5/13/2014','MM/DD/RR'),TO_DATE('5/13/2014','MM/DD/RR'),245000,'SUP014');
INSERT INTO INVOICE VALUES('IV9020','PR04 approval',TO_DATE('5/25/2014','MM/DD/RR'),TO_DATE('5/25/2014','MM/DD/RR'),45781,'SUP006');
INSERT INTO INVOICE VALUES('IV9021','NRE – Main Engine 1 Exhaust Ducts',TO_DATE('12/17/2015','MM/DD/RR'),TO_DATE('12/17/2015','MM/DD/RR'),36547,'SUP015');
INSERT INTO INVOICE VALUES('IV9022','DQR Training',TO_DATE('11/23/2015','MM/DD/RR'),TO_DATE('11/23/2015','MM/DD/RR'),25000,'SUP016');
INSERT INTO INVOICE VALUES('IV9023','Sub. of SE68 - Hazardous',TO_DATE('2/6/2013','MM/DD/RR'),TO_DATE('2/6/2013','MM/DD/RR'),150000,'SUP007');
INSERT INTO INVOICE VALUES('IV9024','PO''s issued 50% of parts',TO_DATE('5/2/2013','MM/DD/RR'),TO_DATE('5/2/2013','MM/DD/RR'),94250,'SUP017');
INSERT INTO INVOICE VALUES('IV9025','PO''s issued 75% of parts',TO_DATE('12/18/2013','MM/DD/RR'),TO_DATE('6/18/2013','MM/DD/RR'),154780,'SUP019');
COMMIT;

-----------------------------------------------------------------------------------------------------------------

--PURCHASE_ORDER table creation statement

CREATE TABLE PURCHASE_ORDER
(
PO_NUMBER NUMBER(10,0),
INVOICE_ID VARCHAR(6),
PO_DESC VARCHAR(50) NOT NULL,
SUPPLIER_ID VARCHAR(6),
CONSTRAINT PKPO_1
    PRIMARY KEY(PO_NUMBER),
CONSTRAINT FKPO_1
    FOREIGN KEY(INVOICE_ID) REFERENCES INVOICE(INVOICE_ID)
    ON DELETE CASCADE,
CONSTRAINT FKPO_2
    FOREIGN KEY(SUPPLIER_ID) REFERENCES SUPPLIER(SUPPLIER_ID)
    ON DELETE CASCADE
);

--Description for each attributes

COMMENT ON COLUMN PURCHASE_ORDER.PO_NUMBER IS 'Primary key column of PURCHASE_ORDER table.';
COMMENT ON COLUMN PURCHASE_ORDER.INVOICE_ID IS 'Invoice number of a particular invoice.A FOREIGN key which refers to invoice id of Invoice table';
COMMENT ON COLUMN PURCHASE_ORDER.PO_DESC IS 'Description for the given purchase order.';
COMMENT ON COLUMN PURCHASE_ORDER.SUPPLIER_ID IS 'Supplier id referenced from supplier table.';

--PURCHASE_ORDER table insert statements

INSERT INTO PURCHASE_ORDER VALUES(4500100001,'IV9001','APU Duct','SUP001');
INSERT INTO PURCHASE_ORDER VALUES(4500100002,'IV9002','Long Lead Fastner','SUP002');
INSERT INTO PURCHASE_ORDER VALUES(4500100003,'IV9003','Long Lead Machined Parts','SUP003');
INSERT INTO PURCHASE_ORDER VALUES(4500100004,'IV9004','Aircraft 1 Assembly','SUP004');
INSERT INTO PURCHASE_ORDER VALUES(4500100005,'IV9005','Aircraft 4 Assembly','SUP005');
INSERT INTO PURCHASE_ORDER VALUES(4500100006,'IV9006','NRE – Main Engine 1','SUP006');
INSERT INTO PURCHASE_ORDER VALUES(4500100007,'IV9007','Cockpit','SUP007');
INSERT INTO PURCHASE_ORDER VALUES(4500100008,'IV9008','Armory','SUP008');
INSERT INTO PURCHASE_ORDER VALUES(4500100009,'IV9009','Landing Gear','SUP009');
INSERT INTO PURCHASE_ORDER VALUES(4500100010,'IV9010','Glass Component','SUP010');
INSERT INTO PURCHASE_ORDER VALUES(4500100011,'IV9011','Shake Test','SUP011');
INSERT INTO PURCHASE_ORDER VALUES(4500100012,'IV9012','Sponson','SUP012');
INSERT INTO PURCHASE_ORDER VALUES(4500100013,'IV9013','Fuel Lines','SUP013');
INSERT INTO PURCHASE_ORDER VALUES(4500100014,'IV9014','Aircraft 2 Assembly','SUP014');
INSERT INTO PURCHASE_ORDER VALUES(4500100015,'IV9015','SE68','SUP015');
INSERT INTO PURCHASE_ORDER VALUES(4500100016,'IV9016','Fatigue Test','SUP016');
INSERT INTO PURCHASE_ORDER VALUES(4500100017,'IV9017','DQR Training','SUP017');
INSERT INTO PURCHASE_ORDER VALUES(4500100018,'IV9018','NRE – Main Engine 2','SUP018');
INSERT INTO PURCHASE_ORDER VALUES(4500100019,'IV9019','Aircraft 5 Assembly','SUP019');
INSERT INTO PURCHASE_ORDER VALUES(4500100020,'IV9020','Harnesses','SUP020');
INSERT INTO PURCHASE_ORDER VALUES(4500100021,'IV9021','Aircraft 3 Assembly','SUP001');
INSERT INTO PURCHASE_ORDER VALUES(4500100022,'IV9022','Display Control System','SUP001');
INSERT INTO PURCHASE_ORDER VALUES(4500100023,'IV9023','Formed Core','SUP001');
INSERT INTO PURCHASE_ORDER VALUES(4500100024,'IV9024','Blades','SUP004');
INSERT INTO PURCHASE_ORDER VALUES(4500100025,'IV9025','Tail Rotor Pylon','SUP005');
INSERT INTO PURCHASE_ORDER VALUES(4500100026,'IV9001','Rotor Head','SUP001');
INSERT INTO PURCHASE_ORDER VALUES(4500100027,'IV9002','Long Lead','SUP002');
INSERT INTO PURCHASE_ORDER VALUES(4500100028,'IV9002','NRE – Main Engine 3','SUP002');
INSERT INTO PURCHASE_ORDER VALUES(4500100029,'IV9002','Composite Material','SUP002');
INSERT INTO PURCHASE_ORDER VALUES(4500100030,'IV9003','CM01 - Configuration Manag','SUP003');
INSERT INTO PURCHASE_ORDER VALUES(4500100031,'IV9003','CM04','SUP003');
INSERT INTO PURCHASE_ORDER VALUES(4500100032,'IV9003','G001','SUP003');
INSERT INTO PURCHASE_ORDER VALUES(4500100033,'IV9004','PR04','SUP004');
INSERT INTO PURCHASE_ORDER VALUES(4500100034,'IV9004','Sponson','SUP004');
INSERT INTO PURCHASE_ORDER VALUES(4500100035,'IV9004','Cockpit','SUP004');
COMMIT;

--------------------------------------------------------------------------------------------------------------

--INVOICE_APPROVAL table creation statement

CREATE TABLE INVOICE_APPROVAL
(
INVOICE_ID VARCHAR(6),
DEPARTMENT_ID VARCHAR(6),
CAM_APPROVAL VARCHAR(1) NOT NULL,
IPT_APPROVAL VARCHAR(1) NOT NULL,
APM_APPROVAL VARCHAR(1) NOT NULL,
FIN_APPROVAL VARCHAR(1) NOT NULL,
PD_APPROVAL VARCHAR(1) NOT NULL,
CONSTRAINT PK_1
    PRIMARY KEY(INVOICE_ID,DEPARTMENT_ID)
);

--Adding constraints using Alter Table Statements

ALTER TABLE INVOICE_APPROVAL
ADD CONSTRAINT FKINAP_1
    FOREIGN KEY(INVOICE_ID) REFERENCES INVOICE(INVOICE_ID)
    ON DELETE CASCADE;

ALTER TABLE INVOICE_APPROVAL
ADD CONSTRAINT FKINAP_2
    FOREIGN KEY(DEPARTMENT_ID) REFERENCES DEPT(DEPARTMENT_ID)
    ON DELETE CASCADE;

--Description for each attributes

COMMENT ON COLUMN INVOICE_APPROVAL.CAM_APPROVAL IS 'Approval from Control Account Manager';
COMMENT ON COLUMN INVOICE_APPROVAL.IPT_APPROVAL IS 'Approval from Integrated Product Team';
COMMENT ON COLUMN INVOICE_APPROVAL.APM_APPROVAL IS 'Approval from Assistant Program Manager';
COMMENT ON COLUMN INVOICE_APPROVAL.FIN_APPROVAL IS 'Approval from Finance team';
COMMENT ON COLUMN INVOICE_APPROVAL.PD_APPROVAL IS 'Approval from Program Director';

--INVOICE_APPROVAL table insert statements

INSERT INTO INVOICE_APPROVAL VALUES('IV9001','DEP048','Y','Y','Y','Y','Y');
INSERT INTO INVOICE_APPROVAL VALUES('IV9002','DEP020','Y','Y','Y','Y','Y');
INSERT INTO INVOICE_APPROVAL VALUES('IV9003','DEP048','Y','Y','Y','Y','Y');
INSERT INTO INVOICE_APPROVAL VALUES('IV9004','DEP020','Y','Y','Y','Y','Y');
INSERT INTO INVOICE_APPROVAL VALUES('IV9005','DEP025','Y','Y','Y','Y','Y');
INSERT INTO INVOICE_APPROVAL VALUES('IV9006','DEP016','Y','Y','Y','Y','Y');
INSERT INTO INVOICE_APPROVAL VALUES('IV9007','DEP095','Y','Y','Y','Y','Y');
INSERT INTO INVOICE_APPROVAL VALUES('IV9008','DEP020','Y','Y','Y','Y','Y');
INSERT INTO INVOICE_APPROVAL VALUES('IV9009','DEP025','Y','Y','Y','Y','Y');
INSERT INTO INVOICE_APPROVAL VALUES('IV9010','DEP095','Y','Y','Y','Y','Y');
INSERT INTO INVOICE_APPROVAL VALUES('IV9011','DEP016','Y','Y','Y','Y','Y');
INSERT INTO INVOICE_APPROVAL VALUES('IV9012','DEP095','Y','Y','Y','Y','Y');
INSERT INTO INVOICE_APPROVAL VALUES('IV9013','DEP025','Y','Y','Y','Y','Y');
INSERT INTO INVOICE_APPROVAL VALUES('IV9014','DEP020','Y','Y','Y','Y','Y');
INSERT INTO INVOICE_APPROVAL VALUES('IV9015','DEP016','Y','Y','Y','Y','Y');
INSERT INTO INVOICE_APPROVAL VALUES('IV9016','DEP016','Y','Y','Y','Y','Y');
INSERT INTO INVOICE_APPROVAL VALUES('IV9017','DEP048','Y','Y','Y','Y','Y');
INSERT INTO INVOICE_APPROVAL VALUES('IV9018','DEP016','Y','Y','Y','Y','Y');
INSERT INTO INVOICE_APPROVAL VALUES('IV9019','DEP025','Y','Y','Y','Y','Y');
INSERT INTO INVOICE_APPROVAL VALUES('IV9020','DEP020','Y','Y','Y','Y','Y');
INSERT INTO INVOICE_APPROVAL VALUES('IV9021','DEP048','Y','Y','Y','Y','Y');
INSERT INTO INVOICE_APPROVAL VALUES('IV9022','DEP016','Y','Y','Y','Y','Y');
INSERT INTO INVOICE_APPROVAL VALUES('IV9023','DEP095','Y','Y','Y','Y','Y');
INSERT INTO INVOICE_APPROVAL VALUES('IV9024','DEP025','Y','Y','Y','Y','Y');
INSERT INTO INVOICE_APPROVAL VALUES('IV9025','DEP025','Y','Y','Y','Y','Y');
COMMIT;

-----------------------------------------------------------------------------------------------------------------------